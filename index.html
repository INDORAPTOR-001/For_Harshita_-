<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Harshita â¤ï¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
/* ===== GENERAL STYLES ===== */
body {
  margin: 0;
  font-family: "Segoe UI", sans-serif;
  background: linear-gradient(135deg, #ff9a9e, #fad0c4);
  overflow: hidden;
}

.page {
  position: absolute;
  inset: 0;
  display: none;
  justify-content: center;
  align-items: center;
  text-align: center;
  padding: 20px;
}

.page.active {
  display: flex;
  animation: fade 0.6s ease;
}

@keyframes fade {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

.card {
  background: white;
  padding: 30px;
  border-radius: 22px;
  max-width: 440px;
  box-shadow: 0 20px 45px rgba(0, 0, 0, 0.25);
  display: flex;
  flex-direction: column;
  max-height: 85vh; /* ensures scrollable content fits */
}

h1 { color: #ff4d6d; }
p, pre { font-size: 18px; line-height: 1.6; }

button {
  margin-top: 18px;
  padding: 12px 26px;
  border: none;
  border-radius: 30px;
  background: #ff4d6d;
  color: white;
  font-size: 16px;
  cursor: pointer;
}

button.secondary {
  background: #ffb3c1;
  color: #333;
}

#muteBtn {
  position: fixed;
  top: 12px;
  right: 12px;
  background: rgba(255, 255, 255, 0.85);
  color: #ff4d6d;
  border-radius: 50%;
  width: 44px;
  height: 44px;
  font-size: 18px;
  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
}

.type { min-height: 60px; }

.float {
  position: fixed;
  top: -40px;
  font-size: 26px;
  animation: fall linear infinite;
  pointer-events: none;
}

@keyframes fall {
  to { transform: translateY(110vh) rotate(360deg); }
}

.tap-heart {
  position: fixed;
  font-size: 20px;
  animation: tapFloat 1.5s ease forwards;
  pointer-events: none;
}

@keyframes tapFloat {
  from { opacity: 1; transform: translateY(0) scale(1); }
  to { opacity: 0; transform: translateY(-60px) scale(1.4); }
}

/* ===== HEART BOUQUET ===== */
.heart-bouquet {
  position: relative;
  width: 260px;
  height: 280px;
  margin: 20px auto;
}

.bouquet-wrap {
  position: absolute;
  width: 200px;
  height: 160px;
  background: linear-gradient(135deg,#ff4d5a,#c1121f);
  clip-path: polygon(15% 0, 85% 0, 55% 100%, 45% 100%);
  border-radius: 0 0 120px 120px;
  animation: wrapSway 2s ease-in-out infinite alternate;
  z-index: 0;
  box-shadow: 0 10px 18px rgba(0,0,0,0.25);
}

@keyframes wrapSway {
  0% { transform: translateX(-50%) rotate(-2deg); }
  100% { transform: translateX(-50%) rotate(2deg); }
}

img.bouquet-img {
  position: absolute;
  width: 70px;
  border-radius: 14px;
  box-shadow: 0 8px 15px rgba(0,0,0,0.2);
  animation: pulse 3s ease-in-out infinite;
  z-index: 2;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}
/* ===== POEM FIX (CLEAN & SAFE) ===== */

/* Desktop / Laptop */
.poem-content {
  text-align: left;
}

/* Mobile & small screens ONLY */
@media (max-width: 900px) {
  .poem-content {
    max-height: 60vh;
    overflow-y: auto;
    padding-right: 8px;
    box-sizing: border-box;
  }

  .card {
    max-height: 85vh;
    display: flex;
    flex-direction: column;
  }

  .card button {
    margin-top: auto;
  }
  /* ===== CUP MINI GAME STYLING ===== */
.cups {
  display: flex;
  justify-content: space-around;
  margin: 20px 0;
}

.cup {
  font-size: 60px;             /* bigger cups */
  cursor: pointer;
  transform: rotate(180deg);   /* upside-down */
  transition: transform 0.5s ease; /* smooth lift */
  user-select: none;
}

.cup.lift {
  transform: rotate(180deg) translateY(-50px); /* lift while still upside down */
}

#cupMessage {
  margin-top: 15px;
  font-size: 18px;
  color: #ff4d6d;
  min-height: 24px;
}

#tryAgainBtn {
  display: none;
  margin-top: 12px;
  padding: 8px 16px;
  border: none;
  border-radius: 20px;
  background: #ff4d6d;
  color: white;
  font-size: 16px;
  cursor: pointer;
    }
 .cup {
  position: relative;
  display: inline-block;
  font-size: 60px;        /* cup emoji size */
  cursor: pointer;
  transform: rotate(180deg); /* upside-down cup */
  transition: transform 0.5s ease; /* smooth lift */
  user-select: none;
}

.cup .lid {
  display: inline-block;
}

.cup.lift {
  transform: rotate(180deg) translateY(-50px); /* lift while upside-down */
}

.cup .inside {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotate(0deg); /* heart upright */
  font-size: 30px;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;
}

.cup.show .inside {
  opacity: 1;
  }
</style>
</head>
<body>

<button id="muteBtn" onclick="toggleMusic()">ğŸ”Š</button>
<audio id="music" loop>
  <source src="song.mp3" type="audio/mpeg">
</audio>

<!-- Pages -->
<div class="page active" id="p1">
  <div class="card">
    <h1>Hey Harshitaaaaaa ğŸŒ¹</h1>
    <p>I made something just justt justttt for youuuuu.</p>
    <button onclick="nextToMiniGame(); music.play()">Continue ğŸ’Œ</button>
  </div>
</div>
<div class="page" id="p1b">
  <div class="card">
    <h1>Mini Game ğŸ¥ºâ¤ï¸</h1>
    <p>Find where the heart is hidden.</p>

    <div class="cups">
  <div class="cup" data-index="0"><span class="inside">ğŸ’</span><span class="lid">ğŸ—‘ï¸</span></div>
  <div class="cup" data-index="1"><span class="inside">ğŸ’</span><span class="lid">ğŸ—‘ï¸</span></div>
  <div class="cup" data-index="2"><span class="inside">ğŸ’</span><span class="lid">ğŸ—‘ï¸</span></div>
    </div> 

    <p id="cupMessage"></p>
    <button id="tryAgainBtn" style="display:none;">Try Again ğŸ”„</button>
  </div>
</div>
                                                                                                                                                                                        </div>
<div class="page" id="p2"><div class="card"><div id="typeText" class="type"></div><button onclick="next()">Next â¤ï¸</button></div></div>

<div class="page" id="p3"><div class="card">
<p>Okay, here it is...<br>I really really reeeeally loveee youuuuu ğŸ¥º</p>
<p><strong>Will you be my Valentine?</strong> ğŸ’–</p>
<button onclick="yesClick()">Yes ğŸ˜Š</button>
<button id="noBtn" class="secondary">Not sure yet ğŸ™‚</button>
</div></div>

<div class="page" id="p4"><div class="card"><h1>YAYAYYY ğŸ˜</h1><p>IM THE HAPPIEST MAN ALIVEEE ğŸ’–<br>I LOVE YOUUU</p><button onclick="next()">Next ğŸŒ¸</button></div></div>

<div class="page" id="p5"><div class="card"><h1>Sweet reminder ğŸŒ¸</h1><div id="sweetText" class="type"></div><button onclick="next()">Next ğŸ’–</button></div></div>

<div class="page" id="p6">
  <div class="card">
    <h1>A bouquet for youu heheğŸŒ¹</h1>
    <div class="heart-bouquet" id="bouquet"></div>
    <button onclick="next()">Next ğŸ’Œ</button>
  </div>
</div>

<div class="page" id="p7"><div class="card"><h1>Confetti time ğŸ‰</h1><p>Thanks for being amazing â¤ï¸</p><button onclick="next()">Next ğŸ’–</button></div></div>

<div class="page" id="p8"><div class="card"><h1>Poem â€“ This is for you, love</h1><div class="poem-content" style="text-align:left;">
  <p>A love that I canâ€™t explain</p>
  <p>A feeling I can barely contain</p>
  <p>My heart so full of emotion</p>
  <p>My feelings, so often in motion</p>

  <p>Itâ€™s like a sweet summerâ€™s breeze</p>
  <p>Weaving through the trees</p>
  <p>Bringing with it a gentle calm</p>
  <p>A feeling that can do no harm</p>

  <p>The way it fills me with joy</p>
  <p>As if Iâ€™m a new found toy</p>
  <p>My heart so full of bliss</p>
  <p>Iâ€™m at a complete loss for words</p>

  <p>The perfect love for me</p>
  <p>Is the one that sets me free</p>
  <p>Where I can be myself</p>
  <p>And know that Iâ€™m loved for me</p>

  <p>Your love is like a warm embrace</p>
  <p>Filling me with grace</p>
  <p>Your kindness shines so bright</p>
  <p>That I am filled with delight</p>

  <p>Your love so full of life</p>
  <p>Itâ€™s like a never-ending light</p>
  <p>It brings me comfort and peace</p>
  <p>A feeling that will never cease</p>
</div><button onclick="next()">Next ğŸŒ™</button></div></div>

<div class="page" id="p9"><div class="card"><h1>The moon is beautiful, isn't it? ğŸŒ•</h1>
<img src="moon.jpg" style="width:180px;border-radius:12px;margin-top:12px;">
<p>(Are you nerdy enough to understand this?)</p>
<button onclick="next()">Next ğŸ’–</button></div></div>

<div class="page" id="p10"><div class="card">
<p>With all my love,<br>
Your lovingly, Indoraaaa / Mr. NRI / Mr. Angreez ğŸ’–</p>
<button onclick="next()">Next ğŸ”</button>
</div></div>

<div class="page" id="p11"><div class="card"><h1>Replay?</h1><button onclick="replay()">Replay ğŸ”</button></div></div>

<div class="page" id="heartbreak"><div class="card"><h1>You broke my heart ğŸ’”ğŸ¥€</h1><button onclick="replay()">Try again ğŸ”</button></div></div>

<script>
let current=1,i=0,j=0,hoverCount=0;
const music=document.getElementById("music");
const muteBtn=document.getElementById("muteBtn");
const typingLine="You're in my mind 24/7. Not occasionally. Just always.";
const sweetLine="Thinking of you makes my heart skip a beat â¤ï¸ğŸ’“";

function next(startMusic=false){
  document.getElementById("p"+current).classList.remove("active");
  current++;
  if(current>11) current=11;
  document.getElementById("p"+current).classList.add("active");
  if(startMusic) music.play();
  if(current===2) typeEffect();
  if(current===5) sweetEffect();
  if(current===6) loadBouquet();
}
  function nextToMiniGame() {
  document.getElementById("p1").classList.remove("active"); // hide page 1
  document.getElementById("p1b").classList.add("active");    // show mini-game page
  }

function typeEffect(){if(i<typingLine.length){document.getElementById("typeText").innerHTML+=typingLine.charAt(i);i++;setTimeout(typeEffect,40);}}
function sweetEffect(){if(j<sweetLine.length){document.getElementById("sweetText").innerHTML+=sweetLine.charAt(j);j++;setTimeout(sweetEffect,40);}}
function toggleMusic(){if(music.paused){music.play(); muteBtn.textContent="ğŸ”Š";}else{music.pause(); muteBtn.textContent="ğŸ”‡";}}
function replay(){location.reload();}

// Heart trail
document.addEventListener("click",(e)=>{
  const h=document.createElement("div");h.className="tap-heart";h.textContent="â¤ï¸";
  h.style.left=e.clientX+"px"; h.style.top=e.clientY+"px";
  document.body.appendChild(h); setTimeout(()=>h.remove(),1500);
});

// Floating hearts/roses
const icons=["â¤ï¸","ğŸŒ¹"];
for(let k=0;k<35;k++){const f=document.createElement("div");f.className="float";f.innerText=icons[Math.floor(Math.random()*2)];f.style.left=Math.random()*100+"vw";f.style.animationDuration=(5+Math.random()*6)+"s";document.body.appendChild(f);}

// Yes click
function yesClick(){next();}

// Not sure yet button dodge 30 times, 31st â†’ heartbreak
// Not sure yet button dodge (PC + mobile)
const noBtn = document.getElementById("noBtn");

const moveNoBtn = () => {
  hoverCount++;
  if (hoverCount > 30) {
    document.getElementById("p" + current).classList.remove("active");
    document.getElementById("heartbreak").classList.add("active");
  } else {
    const x = Math.random() * 60 + 10;
    const y = Math.random() * 60 + 10;
    noBtn.style.position = "absolute";
    noBtn.style.left = x + "%";
    noBtn.style.top = y + "%";
  }
};

if (noBtn) {
  noBtn.addEventListener("mouseenter", moveNoBtn); // PC
  noBtn.addEventListener("touchstart", moveNoBtn); // Mobile
  }

// Bouquet
function loadBouquet(){
  const bouquet=document.getElementById("bouquet");
  bouquet.innerHTML="";
  const pics=["pic1.jpg","pic2.jpg","pic3.jpg","pic4.jpg","pic5.jpg"];
  const positions=[
    {top:0,left:95},
    {top:60,left:30},
    {top:60,left:160},
    {top:120,left:55},
    {top:120,left:130}
  ];
  let maxBottom=0;
  for(let i=0;i<pics.length;i++){
    const img=document.createElement("img");
    img.src=pics[i];
    img.className="bouquet-img";
    img.style.top=positions[i].top+"px";
    img.style.left=positions[i].left+"px";
    img.style.transformOrigin="50% 50%";
    img.style.animationDelay=(i*0.2)+"s";
    bouquet.appendChild(img);
    let bottom=positions[i].top+70;
    if(bottom>maxBottom) maxBottom=bottom;
  }
  const wrap=document.createElement("div");
  wrap.className="bouquet-wrap";
  wrap.style.left="50%";
  wrap.style.transform="translateX(-50%)";
  wrap.style.top=maxBottom+"px";
  bouquet.appendChild(wrap);
/* ===== CUP MINI GAME (FINAL) ===== */

const cups = document.querySelectorAll("#p1b .cup");
const cupMessage = document.getElementById("cupMessage");
const tryAgainBtn = document.getElementById("tryAgainBtn");

let heartIndex = 0;
let shuffling = false;
let gameOver = false;

/* Randomize heart position */
function randomizeHeart() {
  heartIndex = Math.floor(Math.random() * cups.length);
}

/* Shuffle cups visually */
function shuffleCups(times = 5, delay = 300) {
  shuffling = true;
  gameOver = false;
  let count = 0;

  const shuffleInterval = setInterval(() => {
    const order = [...cups.keys()].sort(() => Math.random() - 0.5);

    cups.forEach((cup, i) => {
      cup.style.order = order[i];
      cup.style.transform = "rotate(180deg) translateY(-20px)";
    });

    setTimeout(() => {
      cups.forEach(cup => {
        cup.style.transform = "rotate(180deg)";
      });
    }, delay / 2);

    count++;
    if (count >= times) {
      clearInterval(shuffleInterval);
      randomizeHeart();
      shuffling = false;
    }
  }, delay);
}

/* Initial shuffle */
shuffleCups();

/* Cup click handler */
cups.forEach(cup => {
  cup.addEventListener("click", () => {
    if (shuffling || gameOver) return;

    const index = [...cups].indexOf(cup);

    // Lift animation
    cup.style.transform = "rotate(180deg) translateY(-50px)";
    setTimeout(() => {
      cup.style.transform = "rotate(180deg)";
    }, 500);

    if (index === heartIndex) {
      gameOver = true;
      cupMessage.textContent = "You always know my heart hehe â¤ï¸";
      tryAgainBtn.style.display = "none";

      setTimeout(() => {
        document.getElementById("p1b").classList.remove("active");
        current = 2;
        document.getElementById("p2").classList.add("active");
        typeEffect();
      }, 1000);
    } else {
      cupMessage.textContent = "Oops! Try again ğŸ˜…";
      tryAgainBtn.style.display = "inline-block";
    }
  });
});

/* Try Again button */
tryAgainBtn.addEventListener("click", () => {
  cupMessage.textContent = "";
  tryAgainBtn.style.display = "none";
  shuffleCups();
});
</script>
</body>

</html>

